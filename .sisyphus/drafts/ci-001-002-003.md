# Draft: CI-001, CI-002, CI-003 Implementation

## Requirements (confirmed)

### CI-001: Wire Schedule Command to CLI
- `schedule.go` has EnableSchedule(), DisableSchedule(), StatusSchedule() - FULLY IMPLEMENTED
- Missing: ScheduleCommand(args) wrapper function
- Missing: case "schedule" in main.go switch statement
- Missing: Help text update

### CI-002: Add Notifications to CLI Backup
- notify.Send(), SendSuccess(backupName, duration), SendError(err) - READY
- Integration points identified:
  - Success: after line 54 in backup.go
  - Errors: lines 34, 40, 46, 55
- Config has Notifications bool field (default: true)
- Add --notify flag to control behavior

### CI-003: Use Centralized Styles in TUI Views
- styles.go has DefaultStyles() with Title, Subtitle, Normal, Selected, Help, Error, Success
- Views with inline styles to replace:
  - dashboard.go: 1 inline style
  - backuplist.go: 4 inline styles
  - restore.go: 6+ inline styles
  - settings.go: 7 inline styles
  - logs.go: 1 inline style
- New styles needed: Label, Value, Hint (extend Styles struct)

## Technical Decisions

- Follow existing command wiring pattern (switch case in main.go)
- Follow existing flag pattern (flag.NewFlagSet)
- Pass Styles via model field (not constructor change to avoid breaking changes)
- Match existing color codes exactly (#7D56F4 purple, #04B575 green, #FF5555 red, #666666 gray)

## Research Findings

- 25 test files exist - good test coverage
- CLI has e2e tests (e2e/e2e_cli_test.go), not unit tests
- TUI views have unit tests (*_test.go in views/)
- notify functions gracefully handle missing notify-send

## Scope Boundaries

### INCLUDE
- ScheduleCommand wrapper function
- main.go switch case for schedule
- Help text update for schedule
- --notify flag for backup command
- notify.SendSuccess/SendError calls in backup.go
- Replace inline styles with centralized Styles in 5 view files
- Extend Styles struct with Label, Value, Hint styles

### EXCLUDE
- Changing EnableSchedule/DisableSchedule/StatusSchedule implementations
- Adding new notification backends (webhook, etc.)
- Changing existing color schemes
- Restructuring view constructors (use model field instead)
- Adding tests beyond existing patterns

## Open Questions
- None remaining

## Test Strategy
- E2E test for schedule command (follow e2e_cli_test.go pattern)
- Unit tests for TUI views already exist - update if needed
- Manual verification via TUI interaction
